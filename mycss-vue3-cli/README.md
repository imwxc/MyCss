# mycss-vue3-cli

### setup
    1.Vue3的新配置项，值为一个函数
    2.setup是所有组合api的地方
    3.组件中用的数据方法都在setup中配置
    4.seup返回值：
        1.返回一个对象则 对象中的属性方法均可在模板中使用
        2.返回一个渲染函数，可以自定义渲染内容
    5.注意点：
        1.尽量不和vue2配置混用
        2.setup中不能访问vue2的配置
        3.重名时vue3优先
        4.setup不能为async函数
    
### ref函数
    作用：定义一个响应式的数据
    语法：const xxx = ref(initVal)
        创建一个包含响应式数据的引用对象
        JS中操作数据 xxx.value
        模板中读取数据不用 .value
    备注：
        接受的数据可以是基本类型和对象类型
        基本类型的响应式更新靠 getter 和 setter完成
        对象类型的响应式更新vue3中的reactive函数完成

### reactive函数
    作用：定义对象类型的响应式数据
    语法：const 代理对象 = reactive(源对象) 返回一个Proxy的实例对象
    一般使用reactive + obj包裹基本类型来增强语义
    内部基于ES6的 Proxy实现，通过代理对内部源对象数据进行操作。

### Vue3的响应式原理
    Vue2的原理：
        实现原理
            对象：通过Object.defineProperty() 对属性的读取修改进行拦截
            数组：通过重写更新数组的方法来实现拦截（对数组变更的方法进行包裹）
        问题：
            新增属性、删除属性、界面不更新
            直接通过数组下标修改、界面不更新
    Vue3的原理：
        实现原理：
            通过 Proxy： 拦截对象中任意属性的变化：属性的读写、添加、删除
            通过 Reflect： 对源对象的属性进行操作
